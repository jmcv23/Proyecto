<ui:composition
        xmlns:h="jakarta.faces.html"
        xmlns:ui="jakarta.faces.facelets" xmlns:f="http://java.sun.com/jsf/core"
        template="/WEB-INF/plantillas/general.xhtml">

    <ui:define name="content">
        <h:outputStylesheet library="css" name="gestion.css"  />
        <h:form>
            <div class="container">
                <h2 class="titulo text-center mb-4">Gestión de Reservas</h2>

                <div class="d-flex justify-content-end mb-3">
                    <h:button value="Crear Reserva" outcome="crearReserva" styleClass="btn btn-success"/>
                </div>

                <table class="table table-striped table-bordered">
                    <thead class="table-dark">
                    <tr>
                        <th>Id</th>
                        <th>Matricula</th>
                        <th>Dni</th>
                        <th>Acciones</th>
                    </tr>
                    </thead>
                    <tbody>
                    <ui:repeat value="#{resCtrl.listarReservas()}" var="reserva">
                        <tr>
                            <td>#{reserva.idReserva}</td>
                            <td>#{reserva.matricula}</td>
                            <td>#{reserva.dniReserva}</td>
                            <td>
                                <h:button value="Ver" outcome="verReserva" styleClass="btn btn-success btn-sm me-3">
                                    <f:param name="idReserva" value="#{reserva.idReserva}" />
                                </h:button>
                                <h:button value="Editar" outcome="editarReserva" styleClass="btn btn-success btn-sm me-3">
                                    <f:param name="idReserva" value="#{reserva.idReserva}" />
                                </h:button>
                                <h:commandButton value="Borrar" styleClass="btn btn-success btn-sm" action="#{resCtrl.borrarReserva(reserva)}"
                                                 onclick="return confirm('¿Está seguro de que desea eliminar esta reserva?');"/>
                            </td>
                        </tr>
                    </ui:repeat>

                    </tbody>
                </table>

                <nav>
                    <ul class="pagination justify-content-center">
                        <li class="page-item">
                            <h:commandLink value="Anterior" styleClass="page-link text-success"/>
                        </li>
                        <li class="page-item">
                            <h:commandLink value="1" styleClass="page-link text-success"/>
                        </li>
                        <li class="page-item">
                            <h:commandLink value="2" styleClass="page-link text-success"/>
                        </li>
                        <li class="page-item">
                            <h:commandLink value="3" styleClass="page-link text-success"/>
                        </li>
                        <li class="page-item">
                            <h:commandLink value="Siguiente" styleClass="page-link text-success"/>
                        </li>
                    </ul>
                </nav>
            </div>
        </h:form>
    </ui:define>
</ui:composition>
